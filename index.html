<!DOCTYPE html>
<html lang="zh-cn">
<head>
	<meta charset="UTF-8">
	<title>IDValidator</title>
    <script type="text/javascript" src="IDValidator.min.js"></script>
    <script type="text/javascript" src="GB2260.min.js"></script>
    <script type="text/javascript">
window.onload = function(){
    function log() {
        for(var i=0;i<arguments.length;i++){
            var m = arguments[i];
            if( typeof m == 'object' ){
                for( var k in m ){
                    if( m.hasOwnProperty(k) ){
                        log(k+':',m[k]);
                    }
                }
            }else{
                var p = document.createElement('p');
                p.innerText = m.toString();
                document.body.appendChild(p);
            }
        }
        document.body.appendChild(document.createElement('hr'))
    }
   
    	
    var testId = "371001198010082394";
    var fakeId = "345955198706122245";
    var fifteenId = "431389760616601";

    var Validator = new IDValidator();

    //检测是否合法
    log( '\nID:'+testId+'  Result:\n', Validator.isValid( testId ) );
    log( '\n fake ID:'+fakeId+'  Result:\n', Validator.isValid( fakeId ) );
    //15位
    log( '\n15 ID:'+fifteenId+'  Result:\n', Validator.isValid( fifteenId ) );

    //输出分析信息
    log( '\nID:'+testId+'  Result:\n', Validator.getInfo( testId) );
    log( '\n15 ID:'+fifteenId+'  Result:\n', Validator.getInfo( fifteenId ) );


    //带GB2260
    var Validator2 = new IDValidator(GB2260);

    log( '\nID:'+testId+'  Result(with GB2260):\n', Validator2.getInfo( testId ) );

    //伪造ID
    var makeID = Validator2.makeID();

    log( '\nMake an ID of 18:'+makeID+'  Result:\n',Validator2.getInfo( makeID ) );

    //伪造一个15位ID
    var makeID2 = Validator2.makeID(false);
    log( '\nMake an ID of 15:'+makeID2+'  Result:\n',Validator2.getInfo( makeID2 ) );
};
    </script>
</head>
<body>
	
</body>
</html>
